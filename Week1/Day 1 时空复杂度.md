# 时间复杂度
我们先看一段C++代码：
```cpp
int main()
{
    for (int i = 1; i <= n; i += 2);
    return 0;
}
```
这是一个很平凡的代码，它只有一个循环，没有其他任何东西。现在我们需要一种记号，来记录这个程序的指令执行次数。我们引入一种记号：大O，它的表达形式是 $O(\text{一个式子})$。大O表示的是**最坏情况下算法的粗略的命令执行次数**，比如，刚刚这个程序，它的复杂度是 $O(\dfrac{n}{2})$。

但是，我们回到刚刚的定义，大O表示法是**粗略的**，因此，在大O表示法中，我们舍弃系数，只保留指数最大的一项。

所以刚刚这个算法的复杂度是 $O(n)$。

我们再看一段程序：
```cpp
int main()
{
    for (int i = 1; i <= n; i++)
    {
        for (int j = 1; j <= i; j++);
    }
}
```
这个程序的复杂度是多少呢？聪明的同学肯定想出来了，但我们先试着一步步推导。

> 在这里要用到求和符号和等差数列求和公式，不懂的同学请[移步这里](https://baike.baidu.com/item/%E2%88%91/1233796)。

式子会有点复杂，建议大家笔算一遍。
$$
O(\sum_{i=1}^n) \ \text{内层循环执行了 $i$ 次}
$$
$$
=O(\frac{1}{2}n(n+1)) \ \text{等差数列公式}
$$
$$
=O(\frac{1}{2}(n^2+n))
$$
$$
=O(n(n+1))\  \text{舍弃系数}
$$
$$
=O(n^2+n)
$$
$$
=O(n^2) \text{保留指数最高项}
$$
# 空间复杂度
出题人一般不限制空间，注重限制时间，如果空间限制较大（如要求代码申请的空间不能超过4MB），那么就得考虑空间复杂度。当然，也有一些难题，又限制空间，又限制时间。

空间复杂度的分析比较复杂，比如，程序申请了一个长度为 $n$ 的一维数组，又申请了一个边长为 $m$ 的二维数组。那么空间复杂度就为 $O(n+m^2)$，可能你要问，为什么要保留指数更小的 $n$？那是因为，$n$ 与 $m$ 是两个独立的变量，若 $n$ 远远大于 $m$，就不得不考虑 $n$。

# 关于评测机
如果说不想让代码在运行时超时的话，就必须了解一下评测机以及时间限制，一般情况（大多数OJ）下，评测机一秒能进行 $10^9$ 次操作。初步测试一个算法是否会超时的方法是：将题目中的变量的上限代入求出的复杂度，若超出 $t\times10^9$（$t$ 为秒数），几乎可以判定：要超时了。当然，也有可能在小于 $t\times10^9$ 的情况下会超时，这很有可能因为系数过大，以及计算过程中忽略了指数小的项。

不过，时间复杂度和空间复杂度仅仅是一个近似标准，仅做参考。接下来，我给出不同时间复杂度下，变量的上限：
|$n$|$10^9$|$10^4$|$4.5\times10^6$|$26$|$11$|
|:---:|:---:|:---:|:---:|:---|:---:|
|复杂度|$O(n)$|$O(n^2)$|$O(n\log n)$|$O(2^n)$|$O(n!)$|

> $O(n!)$ 表示 $O(1\times2\times3\times4\times\ldots\times n)$，$\log n$ 表示二的几次方为 $n$

> 选自刘汝佳的《算法竞赛入门经典》P224